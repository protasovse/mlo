!function(e){var n={};function t(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(s,i,function(n){return e[n]}.bind(null,i));return s},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=352)}({27:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={created:function(){},computed:{error:function(){return this.$store.state.is_error},success:function(){return this.$store.state.is_success},error_txt:function(){return this.$store.state.error_txt},success_txt:function(){return this.$store.state.success_txt},loading:function(){return this.$store.state.loading},error_fields:function(){return this.$store.state.fields}},beforeMount:function(){this.$store.commit("init_state")},methods:{save_field_value:function(e,n){this.$store.commit("save_field",{key:e,val:n})},set_field_error:function(e,n){this.$store.commit("error_field",{field:e,txt:n})},start_loading:function(){this.$store.commit("start_loading")},clear_error_field:function(){this.$store.commit("clear_error_field")},stop_loading:function(){this.$store.commit("stop_loading")},password_vaidate:function(){if(this.password!==this.re_password)throw this.set_field_error("re_password","Пароли не совпадают"),new Error("Пароли не совпадают")},password_strength_validate:function(){if(this.password.length<6)throw this.set_field_error("password","Пароль слишком короткий"),new Error("Длина пароля не должна быть короче 6 символов")},requires_fields:function(){var e=this;if(void 0!==this.get_requires_fields){var n=!1;if(this.get_requires_fields().forEach(function(t){""===e[t]&&(e.set_field_error(t,"Поле обязательное для заполнения"),n=!0)}),n)throw new Error("Введите данные")}},form_validate:function(e){this.clear_error_field(),e.forEach(function(e){e()})},set_form_error:function(e){this.$store.commit("set_error",{txt:e}),this.stop_loading()},set_form_success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$store.commit("set_success",{txt:e}),this.stop_loading()},process_success:function(e,n){if(this.stop_loading(),!1===e.data.success)throw void 0!==e.data.error?new Error(e.data.error):new Error(this.default_error());n(e.data)},default_error:function(){return"Что-то пошло не так"},mark_error_fields:function(e){var n=this;e.data.fields.forEach(function(e){n.set_field_error(e.field,e.txt)})},process_error:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.stop_loading(),this.mark_error_fields(e),void 0===n)throw void 0!==e.data.error?new Error(e.data.error):new Error(this.default_error());n(e)},get:function(e,n,t){var s=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.start_loading(),this.clear_error_field(),this.$http.get(e,{params:n},{emulateJSON:!0}).then(function(e){s.process_success(e,t)},function(e){s.process_error(e,i)}).catch(function(e){return s.set_form_error(e.message)})},post:function(e,n,t){var s=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.start_loading(),this.clear_error_field(),this.$http.post(e,n,{emulateJSON:!0}).then(function(e){return s.process_success(e,t)},function(e){return s.process_error(e,i)}).catch(function(e){return s.set_form_error(e.message)})},put:function(e,n,t){var s=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.start_loading(),this.clear_error_field(),this.$http.put(e,n,{emulateJSON:!0}).then(function(e){return s.process_success(e,t)},function(e){return s.process_error(e,i)}).catch(function(e){return s.set_form_error(e.message)})},get_saved_field:function(e){return this.$store.state.values[e]}}};n.default=s},352:function(e,n,t){"use strict";var s=a(t(353)),i=a(t(47));function a(e){return e&&e.__esModule?e:{default:e}}var r=t(93);Vue.use(r),Vue.component("file-upload",VueUploadComponent);new Vue({name:"instance_anser_question",el:"#app",store:new Vuex.Store(i.default),router:new VueRouter({mode:"history",routes:s.default})})},353:function(e,n,t){"use strict";var s;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=[{path:"/%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81/:qid/",component:((s=t(354))&&s.__esModule?s:{default:s}).default,props:!0}];n.default=i},354:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=i(t(355));function i(e){return e&&e.__esModule?e:{default:e}}var a={mixins:[i(t(27)).default],template:s.default,props:["qid"],name:"answer_question",data:function(){return{default_settings:[],full_tree:!0,content:"",answers:[],answers_like:[],is_authorized:!1,user_id:!1,role:!1,question:{},advice:!1,count_answ:{},sub_answers_exists:!1,is_can_answer:!1,files:[],parent_id:0,thread:0,upload_form:"",load_answers:!1,load_question:!1,is_show_advice_timeout:!1,reject:!1,expert_loading:!1,load_form:!1}},mounted:function(){var e=this;this.load_answers=!0,this.$http.get("/api/default").then(function(n){e.default_settings=n.data.data,e.full_tree=n.data.data.settings.answers_expand}),this.$http.get("/api/user/check").then(function(n){e.is_authorized=n.data.success,e.is_authorized&&(e.role=n.data.data.role,e.user_id=n.data.data.id,"lawyer"===e.role&&(e.is_can_answer=!0))}),this.$http.get("/api/questions/".concat(this.qid)).then(function(n){e.question=n.data.data,e.load_question=!0,e.request_and_load_answers(),e.load_advice()})},computed:{is_expert_appointed:function(){return this.advice&&this.advice.expert&&("inwork"===this.advice.status||"answered"===this.advice.status||"addquestion"===this.advice.status||"closed"===this.advice.status)},is_show_button_payment:function(){return this.is_iam_autor&&this.advice&&"new"===this.advice.status},you_must_confirm_email:function(){return!this.question.is_pay&&"blocked"===this.question.status},you_must_pay:function(){return this.question.is_pay&&"blocked"===this.question.status},is_iam_expert:function(){return this.advice&&this.advice.expert&&this.advice.expert.id===this.user_id},is_iam_autor:function(){return this.question.author.id===this.user_id},article_id:function(){return"question-".concat(this.qid)},tree_link_name:function(){return this.full_tree?"Свернуть":"Развернуть"},post_action:function(){return"/api/questions/".concat(this.qid,"/answers")},is_form_send_done_first:function(){return"upload_first"===this.upload_form&&this.is_form_send_done("upload_first")},is_form_send_done_second:function(){return"upload_second"===this.upload_form&&this.is_form_send_done("upload_second")},file_first_form_loading:function(){return this.loading||this.get_upload("upload_first")&&this.get_upload("upload_first").active},file_second_form_loading:function(){return this.loading||this.get_upload("upload_second")&&this.get_upload("upload_second").active},answers_total:function(){return this.answers.length}},watch:{is_form_send_done_first:function(){this.is_form_send_done_first&&(this.is_can_answer=!1,this.request_and_load_answers(this.answer_id))},is_form_send_done_second:function(){this.is_form_send_done_second&&(this.is_can_answer=!1,this.request_and_load_answers(this.answer_id))}},methods:{load_advice:function(){var e=this;this.question.is_pay&&(this.load_form=!0,this.$http.get("/api/questions/".concat(this.qid,"/advice")).then(function(n){e.advice=n.data.data,"inwork"===e.advice.status&&e.advice.expert&&e.advice.expert.id===e.user_id||(e.is_can_answer=!1),e.load_form=!1},function(n){e.load_form=!1}))},reject_advice:function(){var e=this;this.expert_loading=!0,this.$http.post("/api/questions/".concat(this.qid,"/advice/").concat(this.advice.id,"/reject")).then(function(n){e.reject=!0,e.expert_loading=!1},function(n){e.set_field_error("advice",n.data.error),e.expert_loading=!1})},confirm_advice:function(){var e=this;this.expert_loading=!0,this.$http.post("/api/questions/".concat(this.qid,"/advice/").concat(this.advice.id,"/confirm")).then(function(n){e.$http.get("/api/questions/".concat(e.qid,"/advice")).then(function(n){e.advice=n.data.data,e.expert_loading=!1})},function(n){e.set_field_error("advice",n.data.error),e.expert_loading=!1})},approve_advice:function(e){var n=this;this.expert_loading=!0,this.is_show_advice_timeout=!1,this.$http.post("/api/questions/".concat(this.qid,"/advice/").concat(this.advice.id,"/approve"),{hours:e},{emulateJSON:!0}).then(function(e){n.$http.get("/api/questions/".concat(n.qid,"/advice")).then(function(e){n.advice=e.data.data,n.expert_loading=!1,n.is_can_answer=!0})},function(e){n.set_field_error("advice",e.data.error),n.expert_loading=!1})},my_dislike:function(e){return-1===e.my_like},my_like:function(e){return 1===e.my_like},is_form_send_done:function(e){return this.success&&!this.loading&&!(this.get_upload(e)&&this.get_upload(e).active)},get_upload:function(e){var n=this.$refs[e];return"upload_second"===e&&n&&(n=n[0]),n},request_and_load_answers:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$http.get("/api/questions/".concat(this.qid,"/answers")).then(function(t){e.count_answ={},e.answers=t.data.data,e.answers.forEach(function(n){n.parent_id&&(e.sub_answers_exists=!0,e.count_answ[n.parent_id]=(e.count_answ[n.parent_id]||0)+1),e.is_can_answer&&n.author.id===e.user_id&&(e.is_can_answer=!1),n.is_editable=n.author.id===e.user_id}),e.load_answers=!1,n&&Vue.nextTick(function(){e.scrollTo(n)})})},get_requires_fields:function(){return["content"]},like_title:function(e){return this.answers.filter(function(n){return n.id===e})[0].author.id===this.user_id?"Мой ответ":"lawyer"===this.role?"Согласен с ответом":"Ответ полезен?"},expand_all:function(){var e=this;this.full_tree=!this.full_tree,this.answers=this.answers.map(function(n){return n.parent_id||(n.is_expand=e.full_tree),n})},expand_answer:function(e){var n=this.answers.filter(function(n){return n.id===e})[0];n.is_expand=!n.is_expand},is_possible_expand_answer:function(e){var n=this.answers.filter(function(n){return n.id===e})[0];return!n.parent_id&&this.count_answ[n.id]},get_exand_answer_name:function(e){var n=this.answers.filter(function(n){return n.id===e})[0],t=this.count_answ[n.id]||0;return n.is_expand?"Свернуть (".concat(t,")"):"Развернуть (".concat(t,")")},get_add_question_link:function(e){if(!this.is_authorized)return!1;if(this.advice&&"closed"===this.advice.status)return!1;var n=this.answers.filter(function(n){return n.id===e})[0];if("client"===this.role){if(this.question.author.id===this.user_id&&"lawyer"===n.author.role&&(!n.parent_id||n.is_last_answer))return"Задать дополнительный вопрос"}else if("lawyer"===this.role){if(n.parent_id&&n.is_last_answer&&"client"===n.author.role)if(this.answers.filter(function(e){return e.id===n.parent_id})[0].author.id===this.user_id)return"Ответить"}return!1},is_show_comment:function(e){var n=this.answers.filter(function(n){return n.id===e})[0];return!n.parent_id||this.answers.filter(function(e){return e.id===n.parent_id})[0].is_expand},scrollTo:function(e){var n=this.$refs[e][0],t=0,s=0;if(n.offsetParent)do{t+=n.offsetTop,s+=n.offsetParent?n.offsetParent.scrollTop:0}while(n=n.offsetParent);this.$SmoothScroll(t-s-40,500)},sleep:function(e){return new Promise(function(n){return setTimeout(n,e)})},save:function(e){var n=this;this.upload_form=e,this.form_validate([this.requires_fields]);var t={parent_id:this.thread,content:this.content};this.answer_id=!1,this.put("/api/questions/".concat(this.qid,"/answers"),t,function(t){n.answer_id=t.data.id;for(var s=0;s<n.get_upload(e).files.length;s++)n.get_upload(e).files[s].data={id:n.answer_id};n.get_upload(e).active=!0,n.is_form_send_done(e)&&n.request_and_load_answers(n.answer_id),n.set_form_success()},function(e){n.set_field_error("content",e.data.error)})},to_like_val:function(e,n){var t=this.answers.filter(function(n){return n.id===e})[0];t.like_count+=n,t.is_can_like=!1,t.my_like=n},to_like:function(e){this.to_like_val(e,1),this.$http.post("/api/questions/".concat(this.qid,"/answers/").concat(e,"/like"))},to_dislike:function(e){this.to_like_val(e,-1),this.$http.post("/api/questions/".concat(this.qid,"/answers/").concat(e,"/dislike"))},show_form_answer:function(e){if(!this.is_show_form_answer(e)){var n=this.answers.filter(function(n){return n.id===e})[0];this.thread=n.thread,this.content="",this.parent_id=n.parent_id,this.files=[],this.$store.commit("init_state"),this.answers.forEach(function(n){return Vue.set(n,"show_form",n.id===e)})}},hide_form_answer:function(e){this.answers.filter(function(n){return n.id===e})[0].show_form=!1},is_show_form_answer:function(e){return!0===this.answers.filter(function(n){return n.id===e})[0].show_form},answer_make_editable:function(e){},save_answer_content:function(e,n){var t={content:n.target.innerText};this.$http.patch("/api/questions/".concat(this.qid,"/answer/").concat(e),t,{emulateJSON:!0})}}};n.default=a},355:function(e,n){e.exports='<div class="question-page_container" itemscope itemtype="http://schema.org/Question">\n    <div class="row pb-4">\n\n        <div class="question-page_main-part">\n\n            <article :id="article_id" v-if="load_question" class="entry">\n\n\n                <div class="alert alert-warning" role="alert" v-if="you_must_pay">\n                    <h4>Спасибо, мы получили ваш вопрос</h4>\n                    <p>Пожалуйста, оплатите услугу, что бы вопрос был принят в работу.</p>\n                </div>\n\n                <div class="alert alert-warning" role="alert" v-if="you_must_confirm_email">\n                    <h4>Спасибо, мы получили ваш вопрос</h4>\n                    <p>Но он пока не виден юристам. Для публикации вопроса, подтвердите ваш электронный ящик,\n                    кликнув по ссылки в отправленном письме. Проверьте папку со спамом, если письмо не приходит.</p>\n                </div>\n\n\n\n                <h1 class="h2 mb-5" itemprop="name">{{ question.title }}</h1>\n\n                <div class="row">\n                    <div class="question-page_l-col">\n                        <time class="subtitle d-block mt-1" :datetime="question.pub_date_c"\n                              itemprop="dateCreated">{{ question.pub_date }}</time>\n                        <span class="d-block">№ {{ question.id }}</span>\n                        <span class="d-block">{{ question.author.city.name }}</span>\n                    </div>\n\n                    <div class="question-page_r-col mb-4">\n                        <h5 itemprop="author" itemscope itemtype="http://schema.org/Person"\n                            class="my-3 mb-lg-1 mt-lg-0" :data-user_id="question.author.id">\n                            <span itemprop="name">{{ question.author.full_name }}</span>\n                        </h5>\n\n                        <div class="lead" itemprop="text" v-html="question.content"></div>\n\n                        <div class="alert alert-secondary" v-if="question.files">\n                            <p class="file-list-item" v-for="f in question.files">\n                                <a target="_blank" :href="f.path" v-if="f.path">{{ f.filename }}</a>\n                                <span v-else="f.path">{{ f.filename }}</span>\n                            </p>\n                        </div>\n\n                        <div class="rubrics-list mt-4" v-if="question.rubric">\n                            <span class="rubrics-list-item">\n                                <a :href="question.rubric.url">{{ question.rubric.name }}</a>\n                            </span>\n                        </div>\n\n\n                        <div class="small text-muted mt-4" v-if="!is_authorized && !question.reply_count ">\n                            <hr>На этот вопрос юрист ещё не ответил. Если вы знаете\n                                ответ, то можете <a class="text-dark" href="/auth/registration/" >зарегистрироваться</a>\n                                в качестве эксперта и ответить на него.\n\n                        </div>\n\n                        <div class="small text-muted mt-4" v-if="is_iam_autor && !question.is_pay && !question.reply_count"><hr>\n                            На ваш вопрос юрист ещё не ответил. К сожалению, на бесплатный вопрос мы не даём гарантии\n                            ответа.\n                            \x3c!--span v-if="default_settings.urls">\n                                Если вам нужна развернутая гаратированная консультация,\n                                <a  class="text-dark" :href="default_settings.urls.ask_question">задайте вопрос</a> платно.\n                            </span--\x3e\n                        </div>\n\n                    </div>\n\n\n                </div>\n\n            </article>\n\n        </div>\n\n        <aside class="question-page_aside-part pt-3">\n            <div id="advice_status" v-if="question.is_pay && advice">\n                <div class="lawyer-list">\n                    <h5 class="consult-state" :class="advice.status">{{ advice.status_display }}</h5>\n                    <p class="subtitle">Цена консультации</p>\n                    <p class="cost rub">{{ advice.cost }}</p>\n\n                    <div v-if="is_expert_appointed">\n\n                        <p class="subtitle" v-if="advice.status != \'closed\'">Консультацию ведёт эксперт</p>\n                        <p class="subtitle" v-if="advice.status == \'closed\'">Консультацию провел эксперт</p>\n\n\n                        <div class="consult-lawyer ">\n                            <a class="pht" :href="advice.expert.url">\n                                <img :src="advice.expert.info.photo" :alt="advice.expert.full_name"/>\n                            </a>\n                            <h6><a :href="advice.expert.url">{{ advice.expert.full_name }}</a></h6>\n                        </div>\n                    </div>\n                    <div v-else>\n                        <p class="subtitle">Эксперт ещё не назначен</p>\n                    </div>\n\n\n                    <div class="normal" v-if="is_show_button_payment">\n                        <p>Эксперт будет назначен после оплаты.</p>\n                        <form method="POST" action="https://money.yandex.ru/quickpay/confirm.xml">\n                            <input type="hidden" name="receiver" :value="default_settings.advice.money_yandex_purse">\n                            <input type="hidden" name="quickpay-form" value="shop">\n                            <input type="hidden" name="formcomment" :value="default_settings.advice.payment_form_title">\n                            <input type="hidden" name="label" :value="\'advice.\' + question.id">\n                            <input type="hidden" name="targets"\n                                   :value="default_settings.advice.payment_form_target + question.id">\n                            <input type="hidden" name="successURL"\n                                   :value="default_settings.settings.site_protocol+\'://\'+default_settings.settings.site_url+question.url">\n                            <input type="hidden" name="sum" :value="advice.cost" data-type="number">\n                            \x3c!--input type="hidden" name="paymentType" value="AC"/--\x3e\n                            <input class="btn btn-success btn-block" type="submit" value="Оплатить">\n                        </form>\n                    </div>\n\n\n                    <div class="normal" v-if="is_iam_autor && advice.status == \'paid\'">\n                        <p>Оплачено, ждём подтверждение оплаты.</p>\n                    </div>\n\n                    <div class="normal" v-if="!expert_loading && advice.status == \'payment_confirmed\'">\n                        <div v-if="is_iam_expert && !reject">\n                            <p>Вам необходимо принять заявку в течение {{ default_settings.advice.overdue_time }} мин.</p>\n                            <div class="d-flex align-items-center" v-if="!error_fields.advice">\n                                <div class="btn-group">\n                                    <a class="btn btn-success btn-sm dropdown-toggle"\n                                       href="javascript:void(0);"\n                                      @click="is_show_advice_timeout = true">Принять </a>\n                                    <div class="dropdown-menu"\n                                         :class="{\'d-block\': is_show_advice_timeout}"\n                                        @mouseleave="is_show_advice_timeout = false">\n                                        <div class="dropdown-header">Отвечу через:</div>\n                                        <a class="dropdown-item" href="javascript:void(0);" @click="approve_advice(1)">1 час</a>\n                                        <a class="dropdown-item" href="javascript:void(0);" @click="approve_advice(2)">2 часа</a>\n                                        <a class="dropdown-item" href="javascript:void(0);" @click="approve_advice(3)">3 часа</a>\n                                        <a class="dropdown-item" href="javascript:void(0);" @click="approve_advice(4)">4 часа</a>\n                                        <a class="dropdown-item" href="javascript:void(0);" @click="approve_advice(6)">6 часов</a>\n                                        <a class="dropdown-item" href="javascript:void(0);" @click="approve_advice(12)">12 часов</a>\n                                        <a class="dropdown-item" href="javascript:void(0);" @click="approve_advice(24)">24 часа</a>\n                                    </div>\n                                </div>\n                                <a class="text-muted ml-3" href="javascript:void(0);" @click="reject_advice">Отказаться</a>\n                            </div>\n                        </div>\n                        <div v-else>\n                            <p class="mt-3">Идёт подбор эксперта по данному вопросу (обычно в течении 30 мин.)</p>\n                        </div>\n\n                        <div class="text-danger" v-if="reject">\n                            Вы отказались\n                        </div>\n\n\n\n\n                    </div>\n\n                    <div class="normal" v-if="!expert_loading && advice.status == \'inwork\'">\n                        <p class="mt-3" v-if="is_iam_expert">Вы должны ответить до {{ advice.answered_date }} мск.</p>\n                        <p class="mt-3" v-if="is_iam_autor">Эксперт принял вопрос и ответит до {{ advice.answered_date }} мск.</p>\n                    </div>\n\n                    <div class="normal" v-if="!expert_loading && advice.status == \'answered\' && is_iam_autor && !error_fields.advice">\n                        <p class="mt-3">Эксперт ответил на вопрос, если у вас нет дополнительных вопросов нажмите на:</p>\n                        <p>\n                            <a class="btn btn-success btn-sm"\n                              href="javascript:void(0);"\n                              @click="confirm_advice">Вопрос решён</a>\n                        </p>\n                    </div>\n\n                    <div class="text-danger mt-3" v-if="error_fields.advice">\n                        <h6>{{ error_fields.advice }}</h6>\n                        <p class="small">При выполнении действия произошла ошибка. Разработчики уже узнали об этом и трудятся над\n                            исправлением.</p>\n                    </div>\n                </div>\n            </div>\n            <div class="normal" v-if="expert_loading">\n                <img src="/static/img/preloaders/spinner200.svg">\n            </div>\n            <h5 class="mb-4">Консультация юриста бесплатно</h5>\n            <p class="lead"><a href="tel:84959844607">8 (495) 984-46-07</a><br><strong class="small">Москва и моск. обл.</strong></p>\n            <p class="lead"><a href="tel:88124580471">8 (812) 458-04-71</a><br><strong class="small">Санкт-Петербург и лен. обл.</strong></p>\n\n        </aside>\n\n\n    </div>\n\n    <div id="answer">\n        <div id="answer_block">\n\n            <div class="row">\n                <div class="question-page_main-part">\n                    <div class="row">\n                        <div class="question-page_r-col ml-auto" v-if="!load_form">\n                            <div id="form" v-if="is_can_answer" class="mb-4">\n                                <hr class="mt-0 mb-3">\n                                <div class="form-group">\n                                    <label for="reply" class="h6 mb-3">Ответить на вопрос:</label>\n                                    <textarea class="form-control"\n                                              v-model="content"\n                                              :class="{\'is-invalid\': error_fields.content }"\n                                              id="reply"\n                                              rows="5"\n                                              :disabled="file_first_form_loading"\n                                              placeholder=""></textarea>\n                                    <span class="invalid-feedback"\n                                          v-if="error_fields.content">{{ error_fields.content }}</span>\n                                </div>\n                                <div class="form-group">\n                                    <div v-for="(file, index) in files" class="file-loader" :data-filename="file.name">\n                                        <i class="bar" :id="file.id"><i :style="{width: file.progress + \'%\'}"></i></i>\n                                        <a href="#" @click.prevent="$refs.upload_first.remove(file)" class="close"><i\n                                                class="icon-cancel"></i></a>\n                                    </div>\n\n                                    <button type="submit"\n                                            @click="save(\'upload_first\')"\n                                            class="btn btn-primary btn-sm"\n                                            :disabled=\'loading||success||($refs.upload_first&&$refs.upload_first.active)\'>\n                                        <span v-if="loading||($refs.upload_first&&$refs.upload_first.active)">Загрузка...</span>\n                                        <span v-else-if="success">Успешно</span>\n                                        <span v-else>Отправить</span>\n                                    </button>\n\n                                    <file-upload\n                                            :post-action="post_action"\n                                            class="btn btn-link btn-sm m-0"\n                                            extensions="gif,jpg,jpeg,png,webp,pdf,xls"\n                                            accept="image/png,image/gif,image/jpeg,image/webp,application/pdf,application/vnd.ms-excel"\n                                            :multiple="true"\n                                            :size="1024 * 1024 * 100"\n                                            v-model="files"\n                                            ref="upload_first"><span class="icon-folder mr-2"></span> Прикрепить файлы\n                                    </file-upload>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <div class="row question-page_gradient py-5" v-if="load_answers">\n                <div class="question-page_main-part">\n                    <img src="/static/img/preloaders/spinner200.svg">\n                </div>\n            </div>\n\n            <div class="row question-page_gradient py-5" v-if="answers_total">\n                <div class="question-page_main-part">\n                    <div class="row">\n                        <h3 class="answer-list-head col offset-lg-1" id="div-id">Ответы юристов\n                            <a href="javascript:void(0);" @click="expand_all"\n                               v-if="sub_answers_exists">({{ tree_link_name }})</a>\n                            <span class="d-none answer__counter" itemprop="answerCount">2</span>\n                        </h3>\n\n                    </div>\n\n\n                    <div name="x" v-for="answer_data in answers" itemprop="suggestedAnswer" itemscope\n                         itemtype="http://schema.org/Answer"\n                         role="answer"\n                         :name="answer_data.id"\n                         :ref="answer_data.id"\n                         :data-answer_id="answer_data.id"\n                         :data-thread="answer_data.thread"\n                         class="answer entry"\n                         :class="{\'answer-push\': answer_data.parent_id }"\n                         v-if="is_show_comment(answer_data.id)">\n\n                        <hr class="my-4"/>\n\n                        <header class="answer-header">\n                            <div class="question-page_l-col">\n                                <a class="answer-header_photo" :href="answer_data.author.url"\n                                   v-if="answer_data.author.role==\'lawyer\'">\n                                    <img :src="answer_data.author.info.photo" :alt="answer_data.author.full_name"/>\n                                </a>\n                            </div>\n\n\n                            <div class="question-page_r-col">\n                                <h6 class="mb-0" itemprop="name">\n                                    <a :href="answer_data.author.url"\n                                       v-if="answer_data.author.role==\'lawyer\'">{{ answer_data.author.full_name }}</a>\n                                    <span v-else>{{ answer_data.author.full_name }}</span>\n                                </h6>\n\n\n                                <div class="normal text-muted"\n                                     v-if="!answer_data.parent_id">{{ answer_data.author.about_me }}</div>\n\n                                <div class="answer-header_medal mt-3" v-if="!answer_data.parent_id">\n                            <span class="item" title="Рейтинг эксперта">\n                                <i class="icon-star"></i>\n                                <span class="v">{{ answer_data.author.stat.rating }}</span>\n                            </span>\n                                    <span class="item" title="Стаж">\n                                <i class="icon-medal"></i>\n                                <span class="v">{{ answer_data.author.info.stage }}</span>\n                            </span>\n                                    <span class="item" title="Всего консультаций">\n                                <i class="icon-forum"></i>\n                                <span class="v">{{ answer_data.author.info.answer_count }}</span>\n                            </span>\n\n                                    <span class="item" title="Положительных отзывов">\n                                <i class="icon-like"></i>\n                                <span class="v">{{ answer_data.author.info.review_count }}</span>\n                            </span>\n\n                                </div>\n                            </div>\n\n                        </header>\n\n                        <div class="row">\n\n                            <div class="question-page_l-col">\n                                <time class="subtitle d-block mt-1" itemprop="dateCreated"\n                                      :datetime="answer_data.pub_date_c">{{ answer_data.pub_date }}</time>\n                                <span class="d-block">№ {{ answer_data.id }}</span>\n                                <span class="d-block"\n                                      v-if="answer_data.author.role==\'client\'">{{ answer_data.author.about_me }}</span>\n                            </div>\n\n                            <div class="question-page_r-col content">\n                                <div @click="answer_make_editable(answer_data.id)"\n                                     @blur="save_answer_content(answer_data.id, $event)"\n                                     :contenteditable="answer_data.is_editable"\n                                     class="text"\n                                     itemprop="text"\n                                     v-html="answer_data.content"></div>\n                                <p class="text-muted normal" v-if="answer_data.author.info.signature">\n                                    {{ answer_data.author.info.signature }}\n                                </p>\n\n                                <div class="alert alert-secondary" v-if="answer_data.files">\n                                    <p class="file-list-item" v-for="f in answer_data.files">\n                                        <a target="_blank" :href="f.path" v-if="f.path">{{ f.filename }}</a>\n                                        <span v-else="f.path">{{ f.filename }}</span>\n                                    </p>\n                                </div>\n                            </div>\n\n\n                        </div>\n\n\n                        <footer class="answer-footer row">\n\n                            <div class="question-page_r-col ml-auto d-flex align-items-center justify-content-between flex-column flex-sm-row">\n                                <div class="answer-footer-action normal align-self-start align-self-md-center">\n                                    <a href="javascript:void(0);"\n                                       v-if="get_add_question_link(answer_data.id)"\n                                       @click="show_form_answer(answer_data.id)">\n                                        {{ get_add_question_link(answer_data.id)}}</a><br/>\n                                    <a href="javascript:void(0);" class="small text-muted"\n                                       v-if="is_possible_expand_answer(answer_data.id)"\n                                       @click="expand_answer(answer_data.id)">\n                                        {{ get_exand_answer_name(answer_data.id) }}</a>\n                                </div>\n                                <div class="align-self-end mt-3 mt-sm-0" v-if="answer_data.author.role == \'lawyer\'">\n                                    <div class="answer-like">\n                                        <div class="answer-like-sign dropdown">{{ like_title(answer_data.id) }}</div>\n                                        <div class="answer-like-block">\n\n                                            <i class="icon-dislike order-1" v-if="answer_data.is_can_like"\n                                               @click="to_dislike(answer_data.id)"></i>\n\n                                            <i class="icon-dislike order-1 noactive"\n                                               :class="{\'text-danger\':my_dislike(answer_data)}"\n                                               v-else></i>\n\n\n                                            <i class="icon-like order-3" v-if="answer_data.is_can_like"\n                                               @click="to_like(answer_data.id)"></i>\n\n\n                                            <i class="icon-like order-3 noactive"\n                                               :class="{\'text-success\':my_like(answer_data)}"\n                                               v-else></i>\n\n\n                                            <span class="order-2"\n                                                  :class="{\'text-success\': answer_data.like_count>0, \'text-danger\': answer_data.like_count<0}">\n                                        {{ answer_data.like_count }}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class="question-page_r-col ml-auto pt-3">\n                                <div id="form" v-if="is_show_form_answer(answer_data.id)">\n                                    <div class="form-group">\n                                        \x3c!--label for="reply" class="h6 mb-2">Ответ</label--\x3e\n                                        <textarea class="form-control normal"\n                                                  v-model="content"\n                                                  :class="{\'is-invalid\': error_fields.content }"\n                                                  id="reply"\n                                                  rows="5"\n                                                  :disabled="file_second_form_loading"\n                                                  placeholder=""></textarea>\n                                        <span class="invalid-feedback"\n                                              v-if="error_fields.content">{{ error_fields.content }}</span>\n                                    </div>\n\n                                    <div v-for="(file, index) in files" class="file-loader" :data-filename="file.name">\n                                        <i class="bar" :id="file.id"><i :style="{width: file.progress + \'%\'}"></i></i>\n                                        <a href="#" @click.prevent="$refs.upload_second[0].remove(file)"\n                                           class="close"><i\n                                                class="icon-cancel"></i></a>\n                                    </div>\n\n                                    <div class="form-group d-flex align-items-center">\n\n                                        <button type="submit"\n                                                @click="save(\'upload_second\')"\n                                                class="btn btn-primary btn-sm"\n                                                :disabled=\'loading||success||($refs.upload_second&&$refs.upload_second[0]&&$refs.upload_second[0].active)\'>\n                                            <span v-if="loading||($refs.upload_second&&$refs.upload_second[0]&&$refs.upload_second[0].active)">Загрузка...</span>\n                                            <span v-else-if="success">Успешно</span>\n                                            <span v-else>Отправить</span>\n                                        </button>\n\n                                        <file-upload\n                                                :post-action="post_action"\n                                                class="btn btn-link btn-sm m-0"\n                                                extensions="gif,jpg,jpeg,png,webp,pdf,xls"\n                                                accept="image/png,image/gif,image/jpeg,image/webp,application/pdf,application/vnd.ms-excel"\n                                                :multiple="true"\n\n                                                :size="1024 * 1024 * 100"\n                                                v-model="files"\n                                                ref="upload_second"><span class="icon-folder mr-2"></span> Прикрепить\n                                            файлы\n                                        </file-upload>\n\n                                        <a href="javascript:void(0);" class="text-muted ml-auto small"\n                                           @click="hide_form_answer(answer_data.id)">Отмена</a>\n\n                                    </div>\n                                </div>\n                            </div>\n\n                        </footer>\n\n\n                    </div>\n                </div>\n\n\n                <aside class="question-page_aside-part">\n                    <h4 class="mb-4">Юристы ответившие на этот вопрос:</h4>\n\n                    <div class="lawyer-list">\n                        <div v-for="answer_data in answers"\n                             v-if="!answer_data.parent_id"\n                             role="answers_selector"\n                             class="lawyer-list_item lawyer-list_item-action"\n                             :data-answer_id="answer_data.id"\n                             @click="scrollTo(answer_data.id)">\n                            <div class="lawyer-list_header">\n                        <span class="ph">\n                            <img :src="answer_data.author.info.photo" :alt="answer_data.author.full_name">\n                        </span>\n                                <div class="nm ml-3 text-primary">{{ answer_data.author.full_name }}</div>\n                            </div>\n                            <p class="lawyer-list_body"> {{ answer_data.short_content }} </p>\n                        </div>\n                    </div>\n\n                </aside>\n\n            </div>\n\n        </div>\n    </div>\n</div>'},47:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={namespaced:!0,state:{is_error:!1,is_success:!1,error_txt:"",success_txt:"",loading:!1,fields:{},values:{}},mutations:{set_error:function(e,n){e.is_error=!0,e.is_success=!1,e.error_txt=n.txt},start_loading:function(e){e.loading=!0,e.is_error=!1,e.is_success=!1},stop_loading:function(e){e.loading=!1},set_success:function(e,n){e.is_error=!1,e.is_success=!0,e.success_txt=n.txt},init_state:function(e){e.is_error=!1,e.is_success=!1,e.loading=!1,e.fields={}},error_field:function(e,n){Vue.set(e.fields,n.field,n.txt)},save_field:function(e,n){Vue.set(e.values,n.key,n.val)},clear_error_field:function(e){e.fields={}}}};n.default=s},93:function(e,n,t){var s;s=function(){return function(e){var n={};function t(s){if(n[s])return n[s].exports;var i=n[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,t){var s=t(1);e.exports={install:function(e,n){n=n||{name:"smoothscroll"},e.directive(n.name,{inserted:function(e,n){s(e,n.value.duration,n.value.callback,n.value.context)}}),Object.defineProperty(e.prototype,"$SmoothScroll",{get:function(){return s}})}}},function(e,n,t){var s,i;!function(a,r){"use strict";void 0===(i="function"==typeof(s=function(){if("object"!=typeof window)return;if(void 0===document.querySelectorAll||void 0===window.pageYOffset||void 0===history.pushState)return;var e=function(e,n,t,s){return t>s?n:e+(n-e)*((i=t/s)<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1);var i},n=function(n,t,s,i){t=t||500;var a=(i=i||window).scrollTop||window.pageYOffset;if("number"==typeof n)var r=parseInt(n);else var r=function(e,n){return"HTML"===e.nodeName?-n:e.getBoundingClientRect().top+n}(n,a);var o=Date.now(),d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)},l=function(){var c=Date.now()-o;i!==window?i.scrollTop=e(a,r,c,t):window.scroll(0,e(a,r,c,t)),c>t?"function"==typeof s&&s(n):d(l)};l()},t=function(e){e.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var t=document.getElementById(this.hash.substring(1));t&&n(t,500,function(e){location.replace("#"+e.id)})};return document.addEventListener("DOMContentLoaded",function(){for(var e,n=document.querySelectorAll('a[href^="#"]:not([href="#"])'),s=n.length;e=n[--s];)e.addEventListener("click",t,!1)}),n})?s.call(n,t,n,e):s)||(e.exports=i)}()}])},e.exports=s()}});